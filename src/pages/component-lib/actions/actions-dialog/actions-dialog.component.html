<div class="dialog-content-wrapper" appDraggableDialog>
  <mat-toolbar matDialogTitle class="mat-accent m-0">
      <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
          <span class="title dialog-title">Action</span>
          <button mat-icon-button (click)="matDialogRef.close()" aria-label="Close dialog">
              <mat-icon>close</mat-icon>
          </button>
      </mat-toolbar-row>    
  </mat-toolbar>

  <div mat-dialog-content class="p-24 pb-0 m-0" FlexPerfectScrollbar>


          <div fxLayout="row" fxLayoutAlign="end center">
              Active <mat-slide-toggle ></mat-slide-toggle>
          </div>

          <div fxLayout="row" fxLayoutAlign="start start">
            <mat-form-field appearance="outline" fxFlex>
              <span matPrefix style="text-align:right">{{data.lib.name}}. &nbsp;&nbsp;</span>
              <mat-label>Name</mat-label>             
              <input (keydown.space)="$event.preventDefault();" matInput [(ngModel)]="data.action.name"/> 
            </mat-form-field>
          </div>
          <div fxLayout="row" fxLayoutAlign="start start">
            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Description</mat-label> 
              <textarea matInput placeholder="Description" [(ngModel)]="data.action.description" type="text" max-rows="4"></textarea> 
            </mat-form-field>
          </div>

         <div style="background:aliceblue" fxLayout="row" fxLayoutAlign="start start" *ngFor="let input of data.action.input">
      
          <button mat-icon-button (click)="removeInputField(input)" >
            <mat-icon style="font-size:20px; height:20px;width:20px"><mat-icon>remove_circle_outline</mat-icon></mat-icon>
          </button>
          <mat-form-field style="width:30%">
            <input matInput placeholder="@input" [(ngModel)]="input.key" >
          </mat-form-field>
          <mat-form-field style="width:50%">
            <textarea  matInput placeholder="@value" [(ngModel)]="input.value" matTextareaAutosize matAutosizeMinRows=1 matAutosizeMaxRows=5> </textarea>
          </mat-form-field>
         </div>

         <div style="background:whitesmoke" fxLayout="row" fxLayoutAlign="start start" *ngFor="let input of data.action.validation">
         
          <button mat-icon-button (click)="removeValidationField(input)" >
            <mat-icon style="font-size:20px; height:20px;width:20px"><mat-icon>remove_circle_outline</mat-icon></mat-icon>
          </button>
          <mat-form-field style="width:30%">
            <input matInput placeholder="@validate" [(ngModel)]="input.key" >
          </mat-form-field>
          <mat-form-field style="width:50%">
            <textarea  matInput placeholder="@value" [(ngModel)]="input.value" matTextareaAutosize matAutosizeMinRows=1 matAutosizeMaxRows=3> </textarea>
          </mat-form-field>
         </div>

  </div>

  <div mat-dialog-actions class="m-0 p-16" fxLayout="row" fxLayoutAlign="end center" >

    <button mat-button (click)="AddInput()">Add Input Field</button>
    <button mat-button (click)="AddValidation()">Add Validation</button>
    
    <button 
              mat-button
              class="save-button"
              (click)="matDialogRef.close(data)"
               aria-label="SAVE">
          SAVE
      </button>
  </div>
</div>
